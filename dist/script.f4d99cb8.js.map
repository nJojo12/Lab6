{"version":3,"sources":["script.js"],"names":["addCar","newCar","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","loadCarsBtn","click","catch","error","removeCar","index","carId","cars","id","concat","document","addEventListener","getElementById","carList","innerHTML","forEach","car","carCard","createElement","classList","add","make","model","year","price","appendChild","carForm","event","preventDefault","value","reset","target","contains","dataset"],"mappings":";AA6BA,SAASA,EAAOC,GACZC,MAAM,6BAA8B,CAChCC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KAEpBO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFC,QAAQC,IAAI,WAAYF,GAGxBG,YAAYC,UAEfC,MAAM,SAAAC,GACHL,QAAQK,MAAM,SAAUA,KAepC,SAASC,EAAUC,GACf,IAAMC,EAAQC,KAAKF,GAAOG,GAC1BpB,MAAKqB,8BAAAA,OAA+BH,GAAS,CACzCjB,OAAQ,WAEPK,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFC,QAAQC,IAAI,WAAYF,GAGxBG,YAAYC,UAEfC,MAAM,SAAAC,GACHL,QAAQK,MAAM,SAAUA,KAzEpCO,SAASC,iBAAiB,mBAAoB,WAC1C,IAAMX,EAAcU,SAASE,eAAe,eACtCC,EAAUH,SAASE,eAAe,WACxCL,KAAO,GACPP,EAAYW,iBAAiB,QAAS,WAClCvB,MAAM,8BACDM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFU,KAAOV,EACPgB,EAAQC,UAAY,GACpBjB,EAAKkB,QAAQ,SAACC,EAAKX,GACf,IAAMY,EAAUP,SAASQ,cAAc,OACvCD,EAAQE,UAAUC,IAAI,YACtBH,EAAQH,UAASL,iCAAAA,OACPO,EAAIK,KAAIZ,KAAAA,OAAIO,EAAIM,MAAKb,6DAAAA,OACCO,EAAIO,KAAId,4DAAAA,OACRO,EAAIK,KAAIZ,6DAAAA,OACPO,EAAIM,MAAKb,8DAAAA,OACRO,EAAIQ,MAAKf,6EAAAA,OACMJ,EAChD,2CACDQ,EAAQY,YAAYR,OAG3Bf,MAAM,SAAAC,GACHL,QAAQK,MAAM,2BAA4BA,SAwB1DuB,QAAQf,iBAAiB,SAAU,SAAAgB,GAC/BA,EAAMC,iBAKN1C,EAAO,CAAEmC,KAJIX,SAASE,eAAe,QAAQiB,MAI9BP,MAHDZ,SAASE,eAAe,SAASiB,MAGzBN,KAFTb,SAASE,eAAe,QAAQiB,MAEjBL,MADdd,SAASE,eAAe,SAASiB,QAE/CH,QAAQI,UAqBZjB,QAAQF,iBAAiB,QAAS,SAAAgB,GAC1BA,EAAMI,OAAOZ,UAAUa,SAAS,eAEhC5B,EADcuB,EAAMI,OAAOE,QAAQ5B","file":"script.f4d99cb8.js","sourceRoot":"..","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    const loadCarsBtn = document.getElementById('loadCarsBtn');\r\n    const carList = document.getElementById('carList');\r\n    cars = [];\r\n    loadCarsBtn.addEventListener('click', () => {\r\n        fetch('http://localhost:3001/cars')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                cars = data;\r\n                carList.innerHTML = '';\r\n                data.forEach((car, index) => {\r\n                    const carCard = document.createElement('div');\r\n                    carCard.classList.add('car-card');\r\n                    carCard.innerHTML = `\r\n                        <h2>${car.make} ${car.model}</h2>\r\n                        <p><strong>Year:</strong> ${car.year}</p>\r\n                        <p><strong>Make:</strong> ${car.make}</p>\r\n                        <p><strong>Model:</strong> ${car.model}</p>\r\n                        <p><strong>Price:</strong> R${car.price}</p>\r\n                        <button class=\"btn btn-remove\" data-index=\"${index}\">Remove</button>\r\n                    `;\r\n                    carList.appendChild(carCard);\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching car data:', error);\r\n            });\r\n    });\r\n});\r\nfunction addCar(newCar) {\r\n    fetch('http://localhost:3001/cars', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(newCar)\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log('Success:', data);\r\n            //reload cars\r\n            // const loadCarsBtn = document.getElementById('loadCarsBtn');\r\n            loadCarsBtn.click();\r\n        })\r\n        .catch(error => {\r\n            console.error('Error:', error);\r\n        });\r\n}\r\n\r\ncarForm.addEventListener('submit', event => {\r\n    event.preventDefault();\r\n    const make = document.getElementById('make').value;\r\n    const model = document.getElementById('model').value;\r\n    const year = document.getElementById('year').value;\r\n    const price = document.getElementById('price').value;\r\n    addCar({ make, model, year, price });\r\n    carForm.reset();\r\n});\r\n\r\n// Function to remove a car\r\nfunction removeCar(index) {\r\n    const carId = cars[index].id;\r\n    fetch(`http://localhost:3001/cars/${carId}`, {\r\n        method: 'DELETE'\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log('Success:', data);\r\n            //reload cars\r\n            // const loadCarsBtn = document.getElementById('loadCarsBtn');\r\n            loadCarsBtn.click();\r\n        })\r\n        .catch(error => {\r\n            console.error('Error:', error);\r\n        });\r\n}\r\n// Event delegation for remove buttons\r\ncarList.addEventListener('click', event => {\r\n    if (event.target.classList.contains('btn-remove')) {\r\n        const index = event.target.dataset.index;\r\n        removeCar(index);\r\n    }\r\n});"]}